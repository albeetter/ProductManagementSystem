<!doctype html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HOPE Sign In</title>
  
  <!-- Tailwind CSS CDN for demo -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Configure Tailwind for class-based dark mode -->
  <script>
    tailwind.config = {
      darkMode: 'class'
    }
  </script>

  <!-- Google platform.js -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id" content="882139218526-6jg163l2d2771vvsmdec46gsv77h6q9u.apps.googleusercontent.com" />

  <script>
    // Initialize dark mode on page load based on localStorage or system preference
    if (
      localStorage.theme === "dark" ||
      (!("theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }
  </script>
</head>

<body class="min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 transition-colors duration-300 font-sans p-4">

  <!-- Dark Mode Toggle Button -->
  <button
    id="theme-toggle"
    class="absolute top-5 right-5 p-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 transition hover:bg-gray-300 dark:hover:bg-gray-600"
    aria-label="Toggle theme"
    title="Toggle Light/Dark Mode"
  >
    <svg
      id="theme-icon"
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
    </svg>
  </button>

  <main class="w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 transition-colors duration-300 relative z-10">

    <h1 class="text-center text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100">
      Welcome to <span class="text-purple-600 dark:text-purple-400">HOPE</span>
    </h1>

    <!-- Google Sign-In Button -->
    <button
      id="google-signin-btn"
      aria-label="Sign in with Google"
      class="w-full flex items-center justify-center space-x-3 border border-gray-300 dark:border-gray-600 rounded-md py-2 mb-6 hover:bg-gray-100 dark:hover:bg-gray-700 transition"
      type="button"
    >
      <img src="/src/Google__G__logo.svg.webp" alt="Google logo" class="h-6 w-6" />
      <span class="font-semibold text-gray-700 dark:text-gray-200 text-sm">Sign in with Google</span>
    </button>

    <!-- Divider -->
    <div class="flex items-center mb-6 text-gray-500 dark:text-gray-400 font-semibold text-xs">
      <hr class="grow border-gray-300 dark:border-gray-600" />
      <span class="mx-3">OR</span>
      <hr class="grow border-gray-300 dark:border-gray-600" />
    </div>

    <!-- Manual Login Form -->
    <form class="space-y-4" id="login-form">
      <div class="relative">
        <input
          type="text"
          name="staff-id"
          placeholder="Staff ID"
          required
          class="w-full pl-10 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-4 py-2 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-600 transition"
          aria-label="Staff ID"
        />
        <!-- User icon for Staff ID -->
        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="black">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      </div>
      <div class="relative">
        <input
          type="password"
          name="password"
          placeholder="Password"
          required
          class="w-full pl-10 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-4 py-2 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-600 transition"
          aria-label="Password"
          id="password-input"
        />
        <!-- Lock icon for Password -->
        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="black">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
      </div>

      <div class="flex justify-between items-center text-xs text-gray-600 dark:text-gray-400">
        <label class="flex items-center space-x-2 cursor-pointer select-none">
          <input type="checkbox" name="remember" class="rounded border-gray-300 dark:border-gray-500 text-purple-600" />
          <span>Remember Me</span>
        </label>
        <a href="#" class="hover:underline">Forget Password?</a>
      </div>

      <button
        type="submit"
        class="w-full bg-purple-600 text-white rounded-md py-2 font-semibold hover:bg-purple-700 transition"
      >
        Sign In
      </button>

      <!-- Centered Terms & Privacy -->
      <p class="text-center text-xs mt-2 text-gray-500 dark:text-gray-400 space-x-1">
        <a href="#" id="terms-link" class="underline cursor-pointer text-purple-600 dark:text-purple-400 mr-1">Terms & Conditions</a>
        <span>and</span>
        <a href="#" id="privacy-link" class="underline cursor-pointer text-purple-600 dark:text-purple-400 ml-1">Privacy</a>
      </p>
    </form>
  </main>

  <!-- Overlay modal for Terms & Privacy -->
  <div
    id="modal-overlay"
    aria-modal="true"
    role="dialog"
    aria-labelledby="modal-title"
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50"
  >
    <div
      class="bg-white dark:bg-gray-800 w-full max-w-lg max-h-[80vh] rounded-lg p-6 overflow-y-auto shadow-lg relative"
    >
      <h2 id="modal-title" class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2>
      <div id="modal-content" class="text-gray-700 dark:text-gray-300 whitespace-pre-wrap"></div>
      <button
        id="modal-close"
        aria-label="Close modal"
        class="absolute top-3 right-3 bg-gray-200 dark:bg-gray-700 rounded-full p-1 hover:bg-gray-300 dark:hover:bg-gray-600 transition"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700 dark:text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
  </div>

  <script>
    // Dark/Light Mode Toggle Logic & Icon Update
    const themeToggleBtn = document.getElementById("theme-toggle");
    const themeIcon = document.getElementById("theme-icon");

    function updateThemeIcon() {
      if (document.documentElement.classList.contains("dark")) {
        // Moon icon for dark mode
        themeIcon.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
          d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" />
        `;
        themeToggleBtn.setAttribute("title", "Switch to Light Mode");
      } else {
        // Sun icon for light mode
        themeIcon.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
          d="M12 3v1m0 16v1m8.485-8.485h-1
          M4.515 12.515h-1m15.364 4.95l-.707-.707
          M6.343 6.343l-.707-.707m12.728 12.728l-.707-.707
          M6.343 17.657l-.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z" />
        `;
        themeToggleBtn.setAttribute("title", "Switch to Dark Mode");
      }
    }

    themeToggleBtn.addEventListener("click", () => {
      document.documentElement.classList.toggle("dark");
      setTimeout(() => {
        if (document.documentElement.classList.contains("dark")) {
          localStorage.theme = "dark";
        } else {
          localStorage.theme = "light";
        }
        updateThemeIcon();
      }, 10);
    });

    updateThemeIcon();

    // Google Sign-In Logic
    window.onload = () => {
      gapi.load("auth2", () => {
        gapi.auth2.init({
          client_id:
            "882139218526-6jg163l2d2771vvsmdec46gsv77h6q9u.apps.googleusercontent.com",
        });
      });

      document.getElementById("google-signin-btn").addEventListener("click", () => {
        gapi.auth2
          .getAuthInstance()
          .signIn()
          .then((googleUser) => {
            const profile = googleUser.getBasicProfile();
            console.log("Name:", profile.getName());
            console.log("Email:", profile.getEmail());
            console.log("ID Token:", googleUser.getAuthResponse().id_token);
          })
          .catch((err) => {
            console.error("Google sign-in failed:", err);
          });
      });
    };

    // Terms & Privacy Modal Logic
    const modalOverlay = document.getElementById("modal-overlay");
    const modalTitle = document.getElementById("modal-title");
    const modalContent = document.getElementById("modal-content");
    const modalCloseBtn = document.getElementById("modal-close");

    function openModal(title, content) {
      modalTitle.textContent = title;
      modalContent.innerHTML = content;
      modalOverlay.classList.remove("hidden");
      document.body.style.overflow = "hidden"; 
    }

    function closeModal() {
      modalOverlay.classList.add("hidden");
      document.body.style.overflow = "";
    }

    modalCloseBtn.addEventListener("click", closeModal);

    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) {
        closeModal();
      }
    });

    document.getElementById("terms-link").addEventListener("click", (e) => {
      e.preventDefault();
      openModal(
        "Terms & Conditions",
        `Welcome to <strong>HOPE</strong>, a product management system designed for <strong>staff, admins, and super admins</strong> to oversee inventory, product listings, and operational workflows.

By accessing or using <strong>HOPE</strong>, you agree to these terms. Please read them carefully.

<strong>1. User Roles and Access</strong>: Staff have <strong>read-only access</strong> to product data; Admins can <strong>edit and manage inventory</strong>; Super Admins have <strong>full system control</strong>, including user management. <strong>Misuse of roles</strong> may result in account suspension.

<strong>2. Data Usage and Responsibilities</strong>: You are responsible for <strong>accurate product data entry</strong> and compliance with company policies. Do not share <strong>sensitive information</strong> (e.g., proprietary product details) outside authorized channels.

<strong>3. Security and Confidentiality</strong>: <strong>Protect your login credentials</strong>. Report any security breaches immediately. <strong>Unauthorized access</strong> or data leaks may lead to legal action.

<strong>4. Liability and Disclaimers</strong>: <strong>HOPE is provided "as is."</strong> We are not liable for data loss, system downtime, or indirect damages. Users must back up critical data independently.

<strong>5. Compliance and Termination</strong>: Usage must comply with <strong>applicable laws</strong> (e.g., data protection regulations). We reserve the right to terminate access for violations.

For full details, contact your system administrator. Continued use implies acceptance.`
      );
    });

    document.getElementById("privacy-link").addEventListener("click", (e) => {
      e.preventDefault();
      openModal(
        "Privacy Policy",
        `<strong>HOPE</strong> is committed to protecting your privacy and personal data in compliance with laws like <strong>GDPR, CCPA</strong>, and other data protection regulations.

<strong>1. Data We Collect</strong>: We collect <strong>authentication details</strong> (e.g., staff ID, email), <strong>product management data</strong> (e.g., inventory levels, product descriptions), and <strong>usage logs</strong> (e.g., login times, actions performed) to facilitate system operations.

<strong>2. Purpose of Data Use</strong>: Data is used solely for <strong>authentication, role-based access control, product tracking, auditing</strong>, and improving system performance. We do not sell or rent your personal information to third parties. Data may be shared only with authorized personnel within the organization or as required by law.

<strong>3. Data Retention</strong>: Personal data is retained only as long as necessary for the purposes outlined, or as required by law.

<strong>4. Security Measures</strong>: We use encryption, access controls, and regular security audits to protect your data from unauthorized access, alteration, or destruction.

<strong>5. Cookies and Tracking</strong>: This system may use cookies for session management and authentication. No tracking for advertising or marketing purposes occurs.

<strong>6. Your Rights</strong>: Depending on applicable laws, you may have rights to access, correct, delete, or restrict processing of your personal data. Contact your administrator to exercise these rights.

<strong>7. Updates to Policy</strong>: This policy may be updated periodically; significant changes will be communicated to users.

<strong>8. Contact Information</strong>: For questions about this privacy policy or data practices, contact your system administrator or support@hope.com.

By using <strong>HOPE</strong>, you acknowledge and consent to this privacy policy.` ); });

  </script>
</body>
</html>